<script src="https://www.hCaptcha.com/1/api.js" async defer></script>
<script src="js/edit_links_price.js"></script>
<script src="js/uploadProduct.js"></script>
<script src="js/changeDisplay.js"></script>

<link rel="stylesheet" href="/css/uploadProduct.css">

<h1>Mettre en ligne une annonce</h1>

<form method="post" id="blocPrincipal" enctype="multipart/form-data">
    <div id="step1">
        <input type="text" placeholder="Titre..." name="nom_produit" required>

        <div class="blocImgs">
            <div>
                <img src="svg/defaultPicture.svg" alt="Image du produit" width="300" onclick="this.nextElementSibling.click()">
                <input type="file" name="pictures[]" hidden onchange="showPicture(this)" accept="image/*" required>
                <img src="svg/remove-button.svg" alt="Image du produit" width="20" onclick="resetPicture(this)" hidden>
            </div>
                
            <div>
                <img src="svg/defaultPicture.svg" alt="Image du produit" width="80" onclick="this.nextElementSibling.click()">
                <input type="file" name="pictures[]" hidden onchange="showPicture(this)">
                <img src="svg/remove-button.svg" alt="Image du produit" width="20" onclick="resetPicture(this)" hidden accept="image/*">
            </div>
            <div>
                <img src="svg/defaultPicture.svg" alt="Image du produit" width="80" onclick="this.nextElementSibling.click()">
                <input type="file" name="pictures[]" hidden onchange="showPicture(this)">
                <img src="svg/remove-button.svg" alt="Image du produit" width="20" onclick="resetPicture(this)" hidden accept="image/*">
            </div>
            <div>
                <img src="svg/defaultPicture.svg" alt="Image du produit" width="80" onclick="this.nextElementSibling.click()">
                <input type="file" name="pictures[]" hidden onchange="showPicture(this)">
                <img src="svg/remove-button.svg" alt="Image du produit" width="20" onclick="resetPicture(this)" hidden accept="image/*">
            </div>
        </div>

        <div class="blocInfosProduit">
            <label class="etat">
                <p>État du produit :</p>
                <select name="etat_produit" required>
                    <option selected value="" hidden></option>
                    <option value="Neuf">Neuf</option>
                    <option value="Comme neuf">Comme neuf</option>
                    <option value="Très bon état">Très bon état</option>
                    <option value="Bon état">Bon état</option>
                    <option value="État correct">État correct</option>
                    <option value="Mauvais état">Mauvais état</option>
                    <option value="Hors service">Hors service</option>
                    <option value="Autre">Autre</option>
                </select>
            </label>

            <label class="categorie">
                <p>Catégorie du produit :</p>
                <select name="categorie_produit" required>
                    <option selected value="" hidden></option>
                    <option value="Musique">Musique</option>
                    <option value="Multimédia">Multimédia</option>
                    <option value="Santé">Santé</option>
                    <option value="Electroménager">Electroménager</option>
                    <option value="Décoration">Décoration</option>
                    <option value="Bricolage">Bricolage</option>
                    <option value="Animaux">Animaux</option>
                    <option value="Autre">Autre</option>
                </select>
            </label>

            <label>
                <p>Description :</p>
                <textarea name="description_produit" placeholder="Petite description" maxlength="300" required></textarea>
            </label>
        </div>
    </div>

    <div id="step2" style="display: none;">
        <div id="externalProducts">
            <h2>Comparer votre offre avec d'autres sites</h2>
            <input type="url" name="url_prix[]" onchange="correct_url(this)" class="externalProductsLinks" required>
            <img src="svg/add-button.svg" width="20" onclick="add_url(this)" id="add_url_image">
        </div>

        <div class="marketPosition">
            <p>Position prix :</p>
            <label>
                Prix plus bas du marché
                <input type="range" name="marketPosition" min="1" max="100" value="50" required="" oninput="num.value = this.value">
                Prix plus haute du marché
            </label>
            <p><output id="num">50</output>%</p>
        </div>

    </div>

    <hr>
    
    <div class="steps">
        <button type="button" id="previousStep" hidden onclick="switchStep()">Étape précédente</button>
        <div id="fakeBlock"></div>
    
        <div class="h-captcha" data-sitekey="e6b60063-290d-4c3b-b52d-5c4a3aba9a7e"></div>
    
        <button type="button" id="nextStep" onclick="switchStep()">Étape suivante</button>
        <input type="submit" id="submitProduct" value="Confirmer" hidden>
    </div>
</form>
